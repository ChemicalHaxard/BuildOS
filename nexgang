# Base Image: Ubuntu
FROM ubuntu:latest

# Working Directory
WORKDIR /tmp

# Maintainer
MAINTAINER wHo-EM-i <ehteshammalik18998@gmail.com>

# apt update
RUN apt update

# Install sudo
RUN apt install apt-utils sudo -y

# tzdata
ENV TZ Asia/Kolkata

RUN \
DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends tzdata \
&& ln -sf /usr/share/zoneinfo/$TZ /etc/localtime \
&& apt-get install -y tzdata \
&& dpkg-reconfigure --frontend noninteractive tzdata

# set locales 
RUN apt-get install -y locales \
	&& localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8
ENV LANG en_US.utf8

# Install git and ssh
RUN sudo apt install git ssh -y

# Configure git
ENV GIT_USERNAME wHo-EM-i
ENV GIT_EMAIL <ehteshammalik18998@gmail.com>
RUN \
    git config --global user.name $GIT_USERNAME \
&&  git config --global user.email $GIT_EMAIL

# Install Packages
RUN \
sudo apt install \
    curl wget pigz gh aria2 tmate python-is-python3 silversearch* \
    iputils-ping iproute2 \
    nano rsync p7zip screen openssh-server \
    python3-pip jq npm neofetch \
    zip unzip tar ccache \
    cpio lzma \
    -y

# Filesystems
RUN \
sudo apt install \
    erofs-utils \
    -y

# Install schedtool and Java
RUN \
    sudo apt install \
        schedtool openjdk-8-jdk \
    -y

# Setup Android Build Environment
RUN \
git clone https://github.com/akhilnarang/scripts.git /tmp/scripts \
&& sudo bash /tmp/scripts/setup/android_build_env.sh \
&& rm -rf /tmp/scripts

# Run bash
CMD ["bash"]
